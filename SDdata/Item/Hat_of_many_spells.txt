The hat of many spells was an unpredictable magical hat that allowed the user to attempt to "pull" most wizard spells out of the hat. Failing this, it would produce a random magical effect.
The hat could be used as an arcane focus. This resulted in adding a somatic component to all spells, where the user reached into the hat and "pulled" the spell out.
A creature attuned to the hat could attempt to cast any wizard they could cast and which had material components of no more than 1,000 gp. If successful, the spell was cast normally and the hat could not be used in this way again until the wearer had rested. However, if they failed to control the magic, then an unpredictable magical effect occurred instead.
The hat of many spells was capable of producing a number of different magical effects, each with a different probability of occurring. They included casting spells such as enlarge or reduce, faerie fire, fireball, gust of wind, invisibility on the user, lightning bolt, phantasmal force, polymorph, and stinking cloud. It also had other effects, such as creating a non-magical item summoning a camel, constrictor snake, elephant, mule, a hostile swarm of bats, or a swarm of butterflies making the user sick with "magic sickness" petrifying the user stunning the user creating a portal to a random plane and creating a magic item.
The only known hat of many spells to exist was given to the wizard Presto by the Dungeon Master upon arriving in the Realm (no relation).